<script type="module">
  import { dispatch } from '../../index.js';

  const event = 'custom.event';
  const data = 'my custom data';

  document.body.addEventListener(event, (e) => {
    if (e.detail !== data) {
      throw new Error('Custom event should properly deliver custom data.');
    }
  });

  dispatch.call(document.body, event, data);
</script>
