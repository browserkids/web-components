<script type="module">
  import { upgrade } from '../../index.js';

  const hello = 'Hello :)';

  customElements.define('my-element', class MyElement extends HTMLElement {
    constructor() {
      super();

      upgrade(this, hello);
    }
  });

  document.body.appendChild(document.createElement('my-element'));

  if (document.querySelector('my-element').shadowRoot.textContent !== hello)  {
    throw new Error('Created shadow dom does not represent the template that was given.');
  }
</script>
